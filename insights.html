<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Player Insights</title>
  <link rel="stylesheet" href="./css/charts.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/insights.css">

  <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css" />
</head>

<body>
  <nav class="navbar">
    <div class="navbar-left">
      <a href="./index.html" class="nav-link ">Players</a>
      <span class="nav-separator">|</span>
      <a href="./compare.html" class="nav-link">Compare</a>
      <span class="nav-separator">|</span>
      <a href="" class="nav-link active">Insights</a>
    </div>
    <div class="navbar-right">
      <span class="logo">FootVis</span>
    </div>
  </nav>
  <div class="container5">
    <h3 class="section-title2">General Football Players Insights Season 2022/2023</h3>
    <div class="top-row">
      <div class="chart-section">
        <select id="chartSelector">
          <option value="top-scorers">Top Scorers</option>
          <option value="assists-leaders">Top Assists</option>
        </select>
        <div id="player-stats-chart"></div>
      </div>
  
      <div class="chart-section">
        <div id="other-stats-chart"></div>
      </div>
    </div>
  
    <!-- Segunda Linha de Gráficos (Uma Coluna Centralizada) -->
    <div class="bottom-row">
      <div class="chart-section">
        <div id="pie-stats">
          <div id="position-buttons-container"></div>
          <div id="player-pie-chart"></div>
        </div>
      </div>
    </div>
  </div>
  
  

  <footer class="footer">
    <p><strong>FootVis</strong> by Cristiano Nicolau and Miguel Miragaia © 2024<br>Football data from <a href="https://www.kaggle.com/datasets/vivovinco/20222023-football-player-stats"
        target="_blank">Kaggle</a> and player photos
        from <a href="https://www.thesportsdb.com/" target="_blank">thesportsdb</a>
    </p>
</footer>
  <script src="js/insights.js"></script>
  <script>

    function startTour() {
        const driver = window.driver.js.driver;
        const driverObj = driver({
            animate: false,
            showProgress: true,
            showButtons: ['next', 'previous', 'close'],
            allowClose: true,
            steps: [
                {
                    element: '#chartSelector',
                    popover: {
                        title: 'Chart Selector',
                        description: 'Choose the type of chart you want to see here.',
                        side: 'top'
                    }
                },
                {
                    element: '#player-stats-chart',
                    popover: {
                        title: 'Player Stats Chart',
                        description: 'This chart displays the top scorers and assists leaders.',
                        side: 'top'
                    }
                },
                {
                    element: '#other-stats-chart',
                    popover: {
                        title: 'Other Stats Chart',
                        description: 'This chart displays other statistics about the players.',
                        side: 'top'
                    }
                },
                {
                    element: '#pie-stats',
                    popover: {
                        title: 'Pie Stats',
                        description: 'This pie chart shows the distribution of players by position.',
                        side: 'top'
                    }
                }
            ]


        });

        driverObj.drive();
    }

    document.addEventListener('DOMContentLoaded', () => {
        const tourButton = document.createElement('button');
        tourButton.textContent = '?';
        tourButton.id = 'tourButton';
        tourButton.style.cssText = `
            position: fixed;
            bottom: 80px;
            right: 50px;
            z-index: 99999;
            background: #007bff;
            color: #fff;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: transform 0.2s;
        `;
        tourButton.onmouseover = () => {
            tourButton.style.background = '#ffa500';
        };
        tourButton.onmouseout = () => {
            tourButton.style.background = '#007bff';
        };
        tourButton.onclick = startTour;
        document.body.appendChild(tourButton);
    });
</script>
</body>

</html>